Project lesson_organizer {
    database_type: 'SQLite'
}

enum student_status {
    active
    inactive
    hold
    trial
}

enum user_role {
    admin
    assistant
    instructor
}

Table student {
    id integer [pk, not null, unique, increment]
    first_name varchar [not null]
    last_name varchar
    level integer [ref: > level.id]
    created_date datetime [not null]
    status student_status
    notes varchar
    date_started datetime
}

Table lesson {
    id integer [pk, not null, unique, increment]
    datetime datetime [not null]
    plan varchar
    concepts varchar
    created_date datetime [not null]
    notes varchar
}

Table quiz {
    id integer [pk, not null, unique, increment]
    name varchar [not null]
    datetime datetime [not null]
    score real [not null]
    notes varchar
    unit id [ref: > unit.id]
    lesson_id integer [not null, ref: > lesson.id]
    student_id integer [not null, ref: > student.id]
}

Table lesson_student {
    id integer [pk, not null, unique, increment]
    lesson_id integer [not null, ref: > lesson.id]
    student_id integer [not null, ref: > student.id]
}

Table unit {
    id integer [pk, not null, unique, increment]
    varchar name [not null]
    level id [ref: > level.id]
}

Table level {
    id integer [pk, not null, unique, increment]
    start_date datetime [not null]
    curriculum integer [ref: > curriculum.id]
}

Table curriculum {
    id integer [pk, not null, unique, increment]
    varchar name [not null]
}

Table stock_image {
    id integer [pk, not null, unique, increment]
    istock_name varchar
    istock_id integer
    uses varchar
}

Table user {
    id integer [pk, not null, unique, increment]
    first_name varchar [not null]
    last_name varchar [not null]
    created_date datetime [not null]
    last_login datetime
    email varchar [not null]
    password varchar [not null]
    role user_role [not null]
}